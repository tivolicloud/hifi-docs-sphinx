

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>JavaScript Tips &amp; Tricks &mdash; High Fidelity Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/fav-icon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Interface Scripts" href="../interface-scripts/" />
    <link rel="prev" title="Write Your Own Scripts" href="../write-scripts/" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://www.highfidelity.com">
          

          
            
            <img src="../../_static/hifi-logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search High Fidelity Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<p style="margin-bottom: 10px; margin-top: 10px;"><a href="https://forums.highfidelity.com/t/company-update-a-new-beginning-faq/15817"><strong>IMPORTANT</strong>: High Fidelity GitHub Will Become Private Jan 15, 2020</a></p>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../home/">HOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explore/">EXPLORE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../create/">CREATE</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">SCRIPT</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../get-started-with-scripting/">Get Started with Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../write-scripts/">Write Your Own Scripts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">JavaScript Tips and Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interface-scripts/">Interface Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assignment-client-scripts/">Assignment Client Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../avatar-scripts/">Avatar Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-entity-scripts/">Client Entity Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server-entity-scripts/">Server Entity Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfer-hfc-tutorial/">Tutorial: Transfer Money and Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midi-tutorial/">Tutorial: Use MIDI to Control Your Environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../host/">HOST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sell/">SELL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/">CONTRIBUTE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/">RELEASE NOTES</a></li>
<li class="toctree-l1"><a class="reference external" href="https://apidocs.highfidelity.com">API REFERENCE</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">HiFi Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    You are here: 
      <li><a href="../../"><i class="fa fa-home"></i></a> &raquo;</li>
        
          <li><a href="../">Script</a> &raquo;</li>
        
      <li>JavaScript Tips &amp; Tricks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/script/js-tips.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="javascript-tips-tricks">
<h1>JavaScript Tips &amp; Tricks<a class="headerlink" href="#javascript-tips-tricks" title="Permalink to this headline">¶</a></h1>
<p>High Fidelity’s robust <a class="reference external" href="https://apidocs.highfidelity.com">JavaScript API</a> provides the tools for you to build great content and user experiences in VR. We’ve compiled some advanced JavaScript tips you can use while scripting for High Fidelity.</p>
<p>You can use the <a class="reference external" href="get-started-with-scripting.html#scripting-console">Scripting Console in Interface</a> to try out the examples on this page. The output will be visible in the console itself.</p>
<p><strong>On This Page:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="#compute-3d-math-operations">Compute 3D Math Operations</a></p>
<ul>
<li><p><a class="reference external" href="#get-your-avatars-position">Get Your Avatar’s Position</a></p></li>
<li><p><a class="reference external" href="#get-your-avatars-orientation">Get Your Avatar’s Orientation</a></p></li>
<li><p><a class="reference external" href="#get-the-direction-your-avatar-is-facing">Get the Direction Your Avatar is Facing</a></p></li>
<li><p><a class="reference external" href="#make-an-entity-appear-before-your-avatar">Make an Entity Appear Before Your Avatar</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#include-external-js-and-json-files">Include External JS and JSON Files</a></p></li>
<li><p><a class="reference external" href="#equip-an-item">Equip an Item</a></p></li>
<li><p><a class="reference external" href="#connect-a-signal-to-a-function">Connect a Signal to a Function</a></p></li>
</ul>
<div class="section" id="compute-3d-math-operations">
<h2>Compute 3D Math Operations<a class="headerlink" href="#compute-3d-math-operations" title="Permalink to this headline">¶</a></h2>
<p>When you script for VR worlds like High Fidelity, you need 3D math operations to compute the position and orientation of 3D objects and avatars in-world. We cannot simply add two vectors. To script 3D math operations and to determine position and orientation information of avatars, you can use the following namespaces in our JavaScript API:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://apidocs.highfidelity.com/Vec3.html">Vec3</a>: The Vec3 API has facilities for generating and manipulating 3-dimensional vectors.</p></li>
<li><p><a class="reference external" href="https://apidocs.highfidelity.com/Quat.html">Quat</a>: The Quat API provides facilities for generating and manipulating quaternions.</p></li>
<li><p><a class="reference external" href="https://apidocs.highfidelity.com/MyAvatar.html">MyAvatar</a>: The MyAvatar API provides facilities for manipulating avatars.</p></li>
</ul>
<div class="section" id="get-your-avatar-s-position">
<h3>Get Your Avatar’s Position<a class="headerlink" href="#get-your-avatar-s-position" title="Permalink to this headline">¶</a></h3>
<p>When creating objects in world, it’s often very helpful to know where your avatar currently is.</p>
<p>High Fidelity uses a 3D Cartesian coordinate system where the position vector of an entity or avatar looks like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span>
</pre></div>
</div>
<p>To get your avatar’s current position, use the <a class="reference external" href="https://apidocs.highfidelity.com/MyAvatar.html">MyAvatar</a> namespace. MyAvatar contains properties with information related to your avatar. Use the position property, <code class="docutils literal notranslate"><span class="pre">MyAvatar.position</span></code>, which returns an object.</p>
<p>In the following example, we are using the JSON.stringify method to convert the JavaScript object (returned by <code class="docutils literal notranslate"><span class="pre">MyAvatar.position</span></code>) to a data string that can be sent over the server.</p>
<p>Open your Scripting Console and find your avatar’s position.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">position</span><span class="p">);</span>
<span class="c1">// {&quot;x&quot;:-10.349810600280762,&quot;y&quot;:-9.55379867553711,&quot;z&quot;:11.861204147338867}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-your-avatar-s-orientation">
<h3>Get Your Avatar’s Orientation<a class="headerlink" href="#get-your-avatar-s-orientation" title="Permalink to this headline">¶</a></h3>
<p>If you want an object to appear in front of you, you need to know how your avatar is currently oriented in-world.</p>
<p>Rotations are handled are by a number-system called Quaternions. Quaternions help simplify calculations in three dimensional space. They add an extra dimension of ‘w’ and the values are normalized (-1,1).</p>
<p>Quaternions are represented in the form:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">w</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>Get your avatar’s orientation in the Scripting Console by using the <code class="docutils literal notranslate"><span class="pre">MyAvatar.orientation</span></code> property:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">);</span>
<span class="c1">// {&quot;x&quot;:0,&quot;y&quot;:-0.4974651634693146,&quot;z&quot;:0,&quot;w&quot;:0.8674839735031128}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-direction-your-avatar-is-facing">
<h3>Get the Direction Your Avatar is Facing<a class="headerlink" href="#get-the-direction-your-avatar-is-facing" title="Permalink to this headline">¶</a></h3>
<p>You can use the <a class="reference external" href="https://apidocs.highfidelity.com/Quat.html">Quat</a> namespace to get the direction which your avatar is facing. Pass your avatar’s orientation to <code class="docutils literal notranslate"><span class="pre">Quat.getForward</span></code> to get a vector describing which direction you are facing on the world axis.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span> <span class="c1">// Backward</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="o">-</span><span class="mf">1</span> <span class="p">}</span> <span class="c1">// Forward</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span> <span class="c1">// Left</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span> <span class="c1">// Right</span>
</pre></div>
</div>
</div>
<div class="section" id="make-an-entity-appear-before-your-avatar">
<h3>Make an Entity Appear Before Your Avatar<a class="headerlink" href="#make-an-entity-appear-before-your-avatar" title="Permalink to this headline">¶</a></h3>
<p>You can make an entity appear before your avatar and also control the distance at which it appears.</p>
<p>Use the <a class="reference external" href="https://apidocs.highfidelity.com/Vec3.html">Vec3</a> namespace and the direction your avatar is facing to return the position at which you can make your entity appear. This position is 1m away from your avatar.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Vec3</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span> <span class="nx">Quat</span><span class="p">.</span><span class="nx">getForward</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">));</span> <span class="c1">// This will add your position vector to the direction vector returned from Quat.getForward. This will represent a position that is 1 meter in front of your avatar.</span>
</pre></div>
</div>
<p>You can also control the distance at which an entity appears rather than using the default distance of 1m. First, multiply the vector representing the direction your avatar is facing and the distance.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Vec3</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">Quat</span><span class="p">.</span><span class="nx">getForward</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">),</span> <span class="mf">2.0</span><span class="p">);</span> <span class="c1">// if we are facing forward, that means our vector { x: 0, y: 0, z: -1 }, get&#39;s multiplied by 2.0 giving us a vector of { x: 0, y: 0, z: -2 }</span>
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">Vec3.sum</span></code> to return a new vector representing how far away an entity will appear from your avatar.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Vec3</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span> <span class="nx">Vec3</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">Quat</span><span class="p">.</span><span class="nx">getForward</span><span class="p">(</span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)));</span> <span class="c1">// this will give us a final vector representing where in the world a point 2 meters directly in front of our avatar is</span>
</pre></div>
</div>
<p>We’ve included the above operations in a function below for you to save and run as a script.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myPosition</span> <span class="o">=</span> <span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">position</span><span class="p">;</span>   
<span class="kd">var</span> <span class="nx">myOrientation</span> <span class="o">=</span> <span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">myDirection</span> <span class="o">=</span> <span class="nx">Quat</span><span class="p">.</span><span class="nx">getForward</span><span class="p">(</span><span class="nx">myOrientation</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">distanceInFrontOfMe</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distanceVectorOfObjectInFrontOfMe</span><span class="o">=</span> <span class="nx">Vec3</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">myDirection</span><span class="p">,</span> <span class="nx">distanceInFrontOfMe</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">positionOfObjectInFrontOfMe</span> <span class="o">=</span> <span class="nx">Vec3</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">myPosition</span><span class="p">,</span> <span class="nx">distanceVectorOfObjectInFrontOfMe</span><span class="p">);</span>

<span class="c1">// we can even wrap this all up in a function to help simplify this any time we want the position of an object to appear in front of us</span>
<span class="kd">function</span> <span class="nx">getPositionInFrontOfMe</span><span class="p">(</span><span class="nx">distanceInFrontOfMe</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">myPosition</span> <span class="o">=</span> <span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">position</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">myOrientation</span> <span class="o">=</span> <span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">orientation</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">myDirection</span> <span class="o">=</span> <span class="nx">Quat</span><span class="p">.</span><span class="nx">getForward</span><span class="p">(</span><span class="nx">myOrientation</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">distanceVectorOfObjectInFrontOfMe</span><span class="o">=</span> <span class="nx">Vec3</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">myDirection</span><span class="p">,</span> <span class="nx">distanceInFrontOfMe</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">positionOfObjectInFrontOfMe</span> <span class="o">=</span> <span class="nx">Vec3</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">myPosition</span><span class="p">,</span> <span class="nx">distanceVectorOfObjectInFrontOfMe</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">positionOfObjectInFrontOfMe</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">getPositionInFrontOfMe</span><span class="p">(</span><span class="mf">4.0</span><span class="p">);</span> <span class="c1">// { x: 0, y: 0, z: -4 }</span>
<span class="nx">getPositionInFrontOfMe</span><span class="p">(</span><span class="mf">8.0</span><span class="p">);</span> <span class="c1">// { x: 0, y: 0, z: -8 }</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="include-external-js-and-json-files">
<h2>Include External JS and JSON Files<a class="headerlink" href="#include-external-js-and-json-files" title="Permalink to this headline">¶</a></h2>
<p>When writing a script in High Fidelity, you might need to access the methods or objects in an external JS file or get information from a JSON file. For example, if you’re writing a script to make your avatar wave, you might need to use some methods that already exist in an external JS file. You can do this using the <code class="docutils literal notranslate"><span class="pre">require</span></code> method in the Scripts namespace of our API.</p>
<p>Any script that you try to retrieve using this method must export either a function or an object. Let’s try this using an example.</p>
<p>Create a JS script that you want to access from your main script.</p>
<p><strong>example.js</strong></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">sayHello</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">sayGoodbye</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Goodbye!&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In <strong>example.js</strong>, you are exporting two functions that print either Hello or Goodbye, depending on which function you call, to the console. Now, let’s use <code class="docutils literal notranslate"><span class="pre">require</span></code> in your main script.</p>
<p>Create a JS script called <strong>main.js</strong>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="nx">Script</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="nx">Script</span><span class="p">.</span><span class="nx">resolvePath</span><span class="p">(</span><span class="s2">&quot;example.js&quot;</span><span class="p">));</span>
<span class="nx">greet</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">();</span> <span class="c1">// prints Hello to the console</span>
</pre></div>
</div>
<p>When you use the <code class="docutils literal notranslate"><span class="pre">require</span></code> method, you are making any function or object exported from <strong>example.js</strong> available to <strong>main.js</strong>. This means that <strong>main.js</strong> now has access to functions that will print either Hello or Goodbye to the console. In the above example, we are printing Hello to the console when we run <strong>main.js</strong>.</p>
<div class="admonition note">
    <p class="admonition-title">Note</p>
    <p>We recommend using relative paths in your development so that you can easily move content without having to update absolute paths. However, in JSON files, you have to use absolute paths (e.g. in the event of a marketplace upload).</p>
</div></div>
<div class="section" id="equip-an-item">
<h2>Equip an Item<a class="headerlink" href="#equip-an-item" title="Permalink to this headline">¶</a></h2>
<p>You can equip an item by grabbing and holding an entity without pressing the grab button or trigger continuously. For example, you could equip a paint brush to your avatar’s hand and drop it only when you’re done painting.</p>
<p>You can equip an item using a script:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>Messages.sendLocalMessage(&#39;Hifi-Hand-Grab&#39;, JSON.stringify({hand: &#39;XXX&#39;, entityID: &#39;YYY&#39;})); \\ where XXX is either the left or right hand and YYY is entityID to equip
</pre></div>
</div>
<p>To drop the entity from your avatar’s hand:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>Messages.sendLocalMessage(&#39;Hifi-Hand-Drop&#39;, &#39;XXX&#39;); \\ where XXX is either the left or right hand
</pre></div>
</div>
</div>
<div class="section" id="connect-a-signal-to-a-function">
<h2>Connect a Signal to a Function<a class="headerlink" href="#connect-a-signal-to-a-function" title="Permalink to this headline">¶</a></h2>
<p>Signals can be connected to functions. This means that every time a signal is triggered, a function is executed. For example, if your avatar changes when collisions are enabled or disabled, you can connect a function to react to this specific event such as:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">collisionChanged</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;avatar collision is enabled&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;avatar collision id disabled&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">collisionsEnabledChanged</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">collisionChanged</span><span class="p">);</span>
</pre></div>
</div>
<p>Each signal usually gets passed in arguments, and you can refer to the <a class="reference external" href="https://apidocs.highfidelity.com/MyAvatar.html">API documentation</a> to see what a signal will provide you, such as the enabled property passed into collision changed.</p>
<p>It’s good practice to disconnect from signals, but you can only do that if you name your function.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MyAvatar</span><span class="p">.</span><span class="nx">collsionEnabledChanged</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">(</span><span class="nx">collsionChanged</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>See Also</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="write-scripts.html">Write Your Own Scripts</a></p></li>
<li><p><a class="reference external" href="https://apidocs.highfidelity.com">API Reference</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../interface-scripts/" class="btn btn-neutral float-right" title="Interface Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../write-scripts/" class="btn btn-neutral float-left" title="Write Your Own Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, High Fidelity

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

    <!-- Start of HubSpot Embed Code -->
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5066246.js"></script>
    <!-- End of HubSpot Embed Code -->

    <!-- Start Quantcast Tag -->
    <script type="text/javascript">
    var _qevents = _qevents || [];
     (function() {
       var elem = document.createElement('script');
       elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
       elem.async = true;
       elem.type = "text/javascript";
       var scpt = document.getElementsByTagName('script')[0];
       scpt.parentNode.insertBefore(elem, scpt);
      })();
    _qevents.push({qacct: "p-tK6PFLJY3q1s-"});
    </script>
    <noscript>
     <img src="//pixel.quantserve.com/pixel/p-tK6PFLJY3q1s-.gif?labels=_fp.event.Default" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>
    <!-- End Quantcast Tag -->

    <!-- Start Hotjar Tracking Code for https://highfidelity.com/ -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:908553,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <!-- End Hotjar Tracking Code for https://highfidelity.com/ --> 

</body>
</html>